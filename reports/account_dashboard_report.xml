<?xml version="1.0" encoding="UTF-8" ?>
<odoo>

    <record id="paperformat_account_dashboard" model="report.paperformat">
        <field name="name">US Letter</field>
        <field name="default" eval="True"/>
        <field name="format">Letter</field>
        <field name="page_height">0</field>
        <field name="page_width">0</field>
        <field name="orientation">Portrait</field>
        <field name="margin_top">40</field>
        <field name="margin_bottom">10</field>
        <field name="margin_left">7</field>
        <field name="margin_right">7</field>
        <field name="header_line" eval="False"/>
        <field name="header_spacing">35</field>
        <field name="dpi">90</field>
    </record>

    <record id="report_account_dashboard" model="ir.actions.report">
        <field name="name">Rapport de compte</field>
        <field name="model">mini.account.dashboard</field>
        <field name="report_type">qweb-pdf</field>
        <field name="report_name">account_dashboard.account_dashboard_report</field>
        <field name="report_file">account_dashboard.account_dashboard_report</field>
        <field name="paperformat_id" ref="paperformat_account_dashboard"/>
        <field name="binding_model_id" eval="False"/>
        <field name="binding_type">report</field>
    </record>

    <template id="account_dashboard_document">
        <t t-call="web.html_container">
            <t t-call="web.external_layout">
                <div class="text-center"  style="margin-bottom: 20px;">
                    <strong style="font-size: 20px"> TABLEAU DE BORD au Lundi 12 Juin 2023</strong>
                </div>
                <div class="page">
                    <div></div>
                    <div style="width: 100%">
                        <div style="width: 50%; float:left;" name="left_part">
                            <div style="width: 90%; margin: 0 auto;">
                                <table class="table table-sm mt48"  style="margin-bottom: 0px;">
                                    <thead style="border: 1px solid black">
                                        <tr>
                                            <th style="padding: 10px;" class="text-center" colspan="2">1 - TRESORERIE</th>
                                        </tr>
                                        <tr>
                                            <th style="padding: 10px; width: 65%;text-align: left;border-right: none;">
                                                JOURNAUX
                                            </th>
                                            <th style="padding: 10px; width: 35%;text-align: right;border-left: none;">
                                                SOLDE
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <t t-foreach="cash_data" t-as="cash">
                                            <tr style="border-top: none; border-bottom: none;">
                                                <td style="padding: 10px;border: none;text-align: left; font-size: 14px">
                                                    <span t-esc="cash['name']"/>
                                                </td>
                                                <td style="padding: 10px;border: none;text-align: right; font-size: 14px">
                                                    <span t-esc="'{:,}'.format(int(cash['amount'])).replace(',', ' ')"/>
                                                </td>
                                            </tr>

                                        </t>
                                    </tbody>
                                </table>
                                <table class="table table-sm mt48">
                                    <thead style="border: 1px solid black">
                                        <tr>
                                            <th style="padding: 10px;" class="text-center"  colspan="2">4 - VALEUR STOCK AU PRIX DE REVIENT</th>
                                        </tr>
                                        <tr>
                                            <th style="padding: 10px; width: 65%;text-align: left;border-right: none;"></th>
                                            <th style="padding: 10px; width: 35%;text-align: right;border-left:none;">MONTANT</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr style="border-top: none; border-bottom: none;">
                                            <td style="padding: 10px;text-align: left;border: none; font-size: 14px">
                                                Valeur du Stock
                                            </td>
                                            <td style="padding: 10px;text-align: right;border: none; font-size: 14px">
                                                <strong>1,145,355,201</strong>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                                <table class="table table-sm mt48">
                                    <thead style="border: 1px solid black">
                                        <tr>
                                            <th style="padding: 10px;" class="text-center"  colspan="2">SITUATION NETTE = 1 + 2 - 3 + 4</th>
                                        </tr>
                                        <tr>
                                            <th style="padding: 10px; width: 65%;text-align: left;border-right: none;"></th>
                                            <th style="padding: 10px; width: 35%;text-align: right;border-left:none;">MONTANT</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr style="border-top: none; border-bottom: none;">
                                            <td style="padding: 10px;text-align: left;border: none; font-size: 14px">
                                                TRESORERIE
                                            </td>
                                            <td style="padding: 10px;text-align: right;border: none; font-size: 14px">
                                                20,079,136
                                            </td>
                                        </tr>
                                        <tr style="border-top: none; border-bottom: none;">
                                            <td style="padding: 10px;text-align: left;border: none; font-size: 14px">
                                                SOLDE CLIENTS
                                            </td>
                                            <td style="padding: 10px;text-align: right;border: none; font-size: 14px">
                                                689,103,753
                                            </td>
                                        </tr>
                                        <tr style="border-top: none; border-bottom: none;">
                                            <td style="padding: 10px;text-align: left;border: none; font-size: 14px">
                                                VERS. CLT NON ENCAISSES
                                            </td>
                                            <td style="padding: 10px;text-align: right;border: none; font-size: 14px">
                                                0
                                            </td>
                                        </tr>
                                        <tr style="border-top: none; border-bottom: none;">
                                            <td style="padding: 10px;text-align: left;border: none; font-size: 14px">
                                                SOLDE FOURNISSEURS
                                            </td>
                                            <td style="padding: 10px;text-align: right;border: none; font-size: 14px">
                                                -1,752,677,791
                                            </td>
                                        </tr>
                                        <tr style="border-top: none; border-bottom: none;">
                                            <td style="padding: 10px;text-align: left;border: none; font-size: 14px">
                                                VERS. FRS NON ENCAISSES
                                            </td>
                                            <td style="padding: 10px;text-align: right;border: none; font-size: 14px">
                                                0
                                            </td>
                                        </tr>
                                        <tr style="border-top: none;">
                                            <td style="padding: 10px;text-align: left;border: none; font-size: 14px">
                                                VALEUR STOCK
                                            </td>
                                            <td style="padding: 10px;text-align: right;border: none; font-size: 14px">
                                                1,145,355,201
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="padding: 10px;border-right: none;text-align: left; font-size: 14px"></td>
                                            <td style="padding: 10px;text-align: right;width: 100%;border-left:none; font-size: 14px">
                                                <strong>101,860,299</strong>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                                <div></div>
                            </div>
                        </div>
                        <div style="width: 50%; float:right;" name="right_part">
                            <div style="width: 90%; margin: 0 auto;">
                                <table class="table table-sm mt48" style="margin-bottom: 40px;">
                                    <thead style="border: 1px solid black">
                                        <tr>
                                            <th style="padding: 10px;" class="text-center"  colspan="2">2 - CLIENTS</th>
                                        </tr>
                                        <tr>
                                            <th style="padding: 10px; width: 65%;text-align: left;border-right: none;"></th>
                                            <th style="padding: 10px; width: 35%;text-align: right;border-left:none;">MONTANT</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <t t-foreach="customer_data" t-as="customer">
                                            <tr style="border-top: none; border-bottom: none;">
                                                <td style="padding: 10px;text-align: left;border: none; font-size: 14px">
                                                    <span t-esc="customer['start_date']"/> au  <span t-esc="customer['end_date']"/>
                                                </td>
                                                <td style="padding: 10px;text-align: right;border: none; font-size: 14px">
                                                    <span t-esc="'{:,}'.format(int(customer['amount'])).replace(',', ' ')"/>
                                                </td>
                                            </tr>

                                            <tr style="border-top: none; border-bottom: none;">
                                                <td style="padding: 10px;text-align: left;border: none; font-size: 14px">
                                                    Solde au 12/06/2023
                                                </td>
                                                <td style="padding: 10px;text-align: right;border: none; background-color: #f2f2f2; font-size: 14px">
                                                    <strong>689,103,753</strong>
                                                </td>
                                            </tr>
                                            <tr style="border-top: none;">
                                                <td style="padding: 10px;text-align: left;border: none; font-size: 14px">
                                                    Versement non encaissés
                                                </td>
                                                <td style="padding: 10px;text-align: right;border: none; font-size: 14px">
                                                    0
                                                </td>
                                            </tr>
                                            <tr>
                                                <td style="padding: 20px;border-right: none;text-align: left;"></td>
                                                <td style="padding: 20px; width: 100%; border-left:none"><strong></strong></td>
                                            </tr>
                                        </t>
                                    </tbody>
                                </table>
                                <div></div>
                                <table class="table table-sm mt48">
                                    <thead style="border: 1px solid black">
                                        <tr>
                                            <th style="padding: 10px;" class="text-center"  colspan="2">3 - FOURNISSEURS</th>
                                        </tr>
                                        <tr>
                                            <th style="padding: 10px; width: 65%;text-align: left;border-right: none;"></th>
                                            <th style="padding: 10px; width: 35%;text-align: right;border-left:none;">MONTANT</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr style="border-top: none; border-bottom: none;">
                                            <td style="padding: 10px;text-align: left;border: none; font-size: 14px">
                                                C.A. du 01/01/23 au 12/06/23
                                            </td>
                                            <td style="padding: 10px;text-align: right;border: none; font-size: 14px">
                                                5,609,894,665
                                            </td>
                                        </tr>
                                        <tr style="border-top: none; border-bottom: none;">
                                            <td style="padding: 10px;text-align: left;border: none; font-size: 14px">
                                                C.A. du 01/01/22 au 12/06/22
                                            </td>
                                            <td style="padding: 10px;text-align: right;border: none; font-size: 14px">
                                                2,763,340,245
                                            </td>
                                        </tr>
                                        <tr style="border-top: none; border-bottom: none;">
                                            <td style="padding: 10px;text-align: left;border: none; font-size: 14px">
                                                Solde au 12/06/2023
                                            </td>
                                            <td style="padding: 10px;text-align: right;border: none; background-color: #f2f2f2; font-size: 14px">
                                                <strong>1,752,677,791</strong>
                                            </td>
                                        </tr>
                                        <tr style="border-top: none;">
                                            <td style="padding: 10px;text-align: left;border: none; font-size: 14px">
                                                Versement non encaissés
                                            </td>
                                            <td style="padding: 10px;text-align: right;border: none; font-size: 14px">
                                                0
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="padding: 20px;border-right: none;text-align: left;"></td>
                                            <td style="padding: 20px; width: 100%; border-left:none"><strong></strong></td>
                                        </tr>
                                    </tbody>
                                </table>
                                <div></div>
                            </div>
                        </div>
                    </div>
                </div>
            </t>
        </t>

    </template>

    <template id="account_dashboard_report">
        <t t-foreach="docs" t-as="o">
            <t t-call="account_dashboard.account_dashboard_document" t-lang="o.env.lang"/>
        </t>
    </template>
</odoo>
